CLASS BASE VIEW 

Ø¯Ø± DjangoØŒ Ù…ØªØ¯Ù‡Ø§ÛŒ `setup()` Ùˆ `dispatch()` Ø¯Ø± Ú©Ù„Ø§Ø³â€ŒÙ‡Ø§ÛŒ ÙˆÛŒÙˆ (`View`) Ø¨Ø®Ø´ Ù…Ù‡Ù…ÛŒ Ø§Ø² Ú†Ø±Ø®Ù‡â€ŒÛŒ Ù¾Ø±Ø¯Ø§Ø²Ø´ Ø¯Ø±Ø®ÙˆØ§Ø³Øª Ù‡Ø³ØªÙ†Ø¯. Ø§Ú¯Ø± Ù…ÛŒâ€ŒØ®ÙˆØ§ÛŒ ÙˆÛŒÙˆÙ‡Ø§ÛŒ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ú©Ù„Ø§Ø³ (CBV) Ø±Ùˆ Ø¨Ù‡ØªØ± Ø¯Ø±Ú© Ú©Ù†ÛŒØŒ Ø¯ÙˆÙ†Ø³ØªÙ† Ù†Ù‚Ø´ Ø§ÛŒÙ† Ø¯Ùˆ Ù…ØªØ¯ Ø¨Ø³ÛŒØ§Ø± Ù…ÙÛŒØ¯Ù‡.

---

## âœ… 1. Ù…ØªØ¯ `setup(self, request, *args, **kwargs)`

### ğŸ”¹ Ù†Ù‚Ø´:

Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø¬Ø±Ø§ÛŒ Ù‡Ø± Ù…ØªØ¯ `get()`, `post()`, `put()` Ùˆ ØºÛŒØ±Ù‡ØŒ Django Ø§ÛŒÙ† Ù…ØªØ¯ Ø±Ø§ ØµØ¯Ø§ Ù…ÛŒâ€ŒØ²Ù†Ø¯ ØªØ§:

* Ø¯Ø±Ø®ÙˆØ§Ø³Øª (`request`) Ø±Ø§ Ø¯Ø± ÙˆÛŒÙˆ ØªÙ†Ø¸ÛŒÙ… Ú©Ù†Ø¯.
* Ø¢Ø±Ú¯ÙˆÙ…Ø§Ù†â€ŒÙ‡Ø§ (`args`, `kwargs`) Ø±Ø§ Ø³Øª Ú©Ù†Ø¯.

### ğŸ”¹ ØªØ¹Ø±ÛŒÙ Ù¾ÛŒØ´â€ŒÙØ±Ø¶:

```python
def setup(self, request, *args, **kwargs):
    self.request = request
    self.args = args
    self.kwargs = kwargs
```

### ğŸ”¹ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ú†Ø±Ø§ override Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…ØŸ

Ø¨Ø±Ø§ÛŒ ØªÙ†Ø¸ÛŒÙ… Ø¯Ø§Ø¯Ù‡â€ŒÙ‡Ø§ÛŒÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒÙ… Ø¯Ø± ØªÙ…Ø§Ù… Ù…ØªØ¯Ù‡Ø§ÛŒ ÙˆÛŒÙˆ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒÙ….

### âœ… Ù…Ø«Ø§Ù„:

```python
from django.views import View

class MyView(View):
    def setup(self, request, *args, **kwargs):
        super().setup(request, *args, **kwargs)
        self.user = request.user
        self.is_admin = request.user.is_staff

    def get(self, request, *args, **kwargs):
        if self.is_admin:
            return HttpResponse("Welcome admin!")
        return HttpResponse("Access denied.")
```

---

## âœ… 2. Ù…ØªØ¯ `dispatch(self, request, *args, **kwargs)`

### ğŸ”¹ Ù†Ù‚Ø´:

Ø¯Ø± ÙˆØ§Ù‚Ø¹ Ù†Ù‚Ø·Ù‡â€ŒÛŒ ÙˆØ±ÙˆØ¯ÛŒ Ø§ØµÙ„ÛŒ ÙˆÛŒÙˆ Ø§Ø³Øª. Ø§ÛŒÙ† Ù…ØªØ¯ ØªØµÙ…ÛŒÙ… Ù…ÛŒâ€ŒÚ¯ÛŒØ±Ø¯ Ú©Ø¯Ø§Ù… Ù…ØªØ¯ (Ù…Ø«Ù„Ø§Ù‹ `get()`, `post()`, `put()` Ùˆ ...) Ø±Ø§ Ø§Ø¬Ø±Ø§ Ú©Ù†Ø¯.

### ğŸ”¹ ØªØ¹Ø±ÛŒÙ Ù¾ÛŒØ´â€ŒÙØ±Ø¶:

```python
def dispatch(self, request, *args, **kwargs):
    # setup first
    self.setup(request, *args, **kwargs)

    # then call appropriate method
    if request.method.lower() == 'get':
        return self.get(request, *args, **kwargs)
    elif request.method.lower() == 'post':
        return self.post(request, *args, **kwargs)
    ...
```

### ğŸ”¹ Ù…Ø¹Ù…ÙˆÙ„Ø§Ù‹ Ú†Ø±Ø§ override Ù…ÛŒâ€ŒÚ©Ù†ÛŒÙ…ØŸ

* Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ **middleware Ù…Ø­Ù„ÛŒ** (Ù…Ø«Ù„Ø§Ù‹ Ú†Ú© Ú©Ø±Ø¯Ù† Ø¯Ø³ØªØ±Ø³ÛŒØŒ Ù„Ø§Ú¯â€ŒÚ¯Ø±ÙØªÙ†ØŒ ...)
* Ø¨Ø±Ø§ÛŒ Ú©Ø¯Ù†ÙˆÛŒØ³ÛŒ DRY Ø¯Ø± ØªÙ…Ø§Ù… Ø¯Ø±Ø®ÙˆØ§Ø³Øªâ€ŒÙ‡Ø§

### âœ… Ù…Ø«Ø§Ù„:

```python
class MyView(View):
    def dispatch(self, request, *args, **kwargs):
        if not request.user.is_authenticated:
            return HttpResponseForbidden("You must be logged in.")
        return super().dispatch(request, *args, **kwargs)

    def get(self, request, *args, **kwargs):
        return HttpResponse("Welcome, authenticated user!")
```

---

## ğŸ§  ØªÙØ§ÙˆØª Ú©Ù„ÛŒØ¯ÛŒ:

| Ù…ØªØ¯        | Ù†Ù‚Ø´                                             |
| ---------- | ----------------------------------------------- |
| `setup`    | Ù…Ù‚Ø¯Ø§Ø±Ø¯Ù‡ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ (Ù¾ÛŒØ´ Ø§Ø² dispatch)                |
| `dispatch` | Ø§Ù†ØªØ®Ø§Ø¨ Ù…ØªØ¯ Ù…Ù†Ø§Ø³Ø¨ (`get`, `post`, ...) Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ |

---

## ğŸ§ª Ø¬Ù…Ø¹â€ŒØ¨Ù†Ø¯ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡â€ŒÙ‡Ø§:

| Ù…ÙˆÙ‚Ø¹ÛŒØª                              | `setup()` | `dispatch()` |
| ----------------------------------- | --------- | ------------ |
| Ø°Ø®ÛŒØ±Ù‡â€ŒÛŒ user ÛŒØ§ object Ø¯Ø± self      | âœ…         | âœ…            |
| Ø¨Ø±Ø±Ø³ÛŒ permission                    | âŒ         | âœ…            |
| Ø®ÙˆØ§Ù†Ø¯Ù† ÛŒØ§ ØªØºÛŒÛŒØ± request             | âŒ         | âœ…            |
| Ø´Ø®ØµÛŒâ€ŒØ³Ø§Ø²ÛŒ Ø±ÙØªØ§Ø± Ù…Ø´ØªØ±Ú© Ø¯Ø± ØªÙ…Ø§Ù… Ù…ØªØ¯Ù‡Ø§ | âŒ         | âœ…            |

---------------------------------------------------------------------------